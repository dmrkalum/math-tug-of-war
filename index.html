<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Tug of War - Deluxe</title>
    <style>
        body { font-family: 'Arial', sans-serif; background: #87CEEB; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; overflow: hidden; }
        #game-box { width: 90%; max-width: 800px; background: white; padding: 20px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); text-align: center; }
        
        /* Start Screen */
        #menu { display: block; }
        #game-play { display: none; }
        .btn-big { font-size: 24px; padding: 20px 40px; margin: 10px; cursor: pointer; border: none; border-radius: 50px; transition: transform 0.2s; }
        .pvc-btn { background: #FF9800; color: white; }
        .pvp-btn { background: #2196F3; color: white; }
        .btn-big:hover { transform: scale(1.1); }

        /* The Tug Field */
        #field { position: relative; height: 150px; background: #7cfc00; border-radius: 10px; border-bottom: 8px solid #55a600; margin: 20px 0; display: flex; align-items: center; }
        #rope { position: absolute; width: 100%; height: 6px; background: #8B4513; top: 50%; left: 0; z-index: 1; }
        
        .player { position: absolute; font-size: 50px; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 2; top: 40px; }
        #p1-char { left: 20%; transform: scaleX(-1); } /* Flip to face right */
        #p2-char { right: 20%; }

        #marker { position: absolute; width: 10px; height: 30px; background: red; left: 50%; top: -12px; }

        /* Math UI */
        #question-display { font-size: 32px; font-weight: bold; margin-bottom: 15px; }
        input { font-size: 28px; width: 100px; text-align: center; border: 3px solid #ddd; border-radius: 10px; }
        #turn-msg { font-size: 20px; color: #555; font-weight: bold; margin-bottom: 5px; }
    </style>
</head>
<body>

<div id="game-box">
    <div id="menu">
        <h1>Math Tug of War</h1>
        <p>Choose your challenge:</p>
        <button class="btn-big pvc-btn" onclick="startGame('pvc')">Solo vs Computer</button>
        <button class="btn-big pvp-btn" onclick="startGame('pvp')">2 Players (Human)</button>
    </div>

    <div id="game-play">
        <div id="turn-msg">Player 1's Turn</div>
        
        <div id="field">
            <div id="rope"><div id="marker"></div></div>
            <div id="p1-char" class="player">üèÉ</div>
            <div id="p2-char" class="player">üèÉ</div>
        </div>

        <div id="question-display">...</div>
        <input type="number" id="ans" placeholder="?" autocomplete="off">
        <p id="hint">Press Enter to Pull!</p>
    </div>
</div>

<script>
    let mode = '';
    let p1Pos = 20; // Starting % from left
    let p2Pos = 20; // Starting % from right
    let ropeOffset = 0; // Shift from center
    let currentPlayer = 1;
    let num1, num2, answer;

    function startGame(chosenMode) {
        mode = chosenMode;
        document.getElementById('menu').style.display = 'none';
        document.getElementById('game-play').style
